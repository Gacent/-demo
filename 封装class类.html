<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<title></title>
	</head>

	<body>
		<div class="demo"></div>
		<div class="tw"></div>
		<div id="qq">
			<div class="demo tw"></div>
			<div></div>
			<div></div>
		</div>

		<script type="text/javascript">
			window.onload = function() {

				function getClass(classname, id) {
					//高级浏览器
					if(document.getElementsByClassName) {
						if(id) {
							var eleid = document.getElementById(id);
							return eleid.getElementsByClassName(classname);
						} else {
							return document.getElementsByClassName(classname);
						}
					}

					//不支持
					if(id) {
						var eleid = document.getElementById(id);
						var dom = eleid.getElementsByTagName("*");
					} else {
						var dom = document.getElementsByTagName("*");
					}

					//用于存放符合的元素
					var arr = [];
					for(var i = 0; i < dom.length; i++) {
						var txtArr = dom[i].className.split(" ");
						for(var j = 0; j < txtArr.length; j++) {
							if(txtArr[j].className == classname) {
								arr.push(dom[i]);
							}
						}
					}
					return arr;
				}

				//使用
				getClass("demo")[1].innerHTML = "2"

			}
		</script>
	</body>

</html>