<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<title>固定导航栏</title>
		<style type="text/css">
			* {
				margin: 0;
				padding: 0;
			}
			
			img {
				vertical-align: top;
				width: 100%;
			}
			
			.main {
				margin: 0 auto;
				width: 1000px;
				margin-top: 10px;
			}
			.fix{
				position: fixed;
				top: 0;
				width: 100%;
				left: 0;
			}
		</style>
	</head>

	<body>
		<div class="top">
			<img src="images/top.png" />
		</div>
		<div class="nav">
			<img src="images/nav.png" id="nav" />
		</div>
		<div class="main">
			<img src="images/main.png" alt="" />
		</div>
		<script type="text/javascript">
			window.onload = function() {
				var nav = document.getElementById("nav");
				var navTop=nav.offsetTop;	//导航栏距离顶部的距离
				window.onscroll=function(){
					if(scroll().top>=navTop){
						nav.parentNode.classList.add("fix");
					}else{
						nav.parentNode.classList.remove("fix");
					}
				}

				function scroll() {
					if(window.pageYOffset != null) { //ie9+和其他浏览器
						return {
							left: window.pageXOffset,
							top: window.pageYOffset
						}
					} else if(document.compatMode == "CSS1Compat") { //声明了DTD
						//检测是不是怪异模式的浏览器，就是没有DTD
						return {
							left: document.documentElement.scrollLeft,
							top: document.documentElement.scrollTop
						}
					}
					return {
						//剩下的都是怪异的
						left: document.body.scrollLeft,
						top: document.body.scrollTop
					}
				}
			}
		</script>
	</body>

</html>